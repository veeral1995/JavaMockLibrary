package com.library.view.mainjframe;

import java.awt.event.ActionEvent;
import java.io.FileNotFoundException;
import java.io.IOException;

import javax.swing.AbstractButton;

import com.library.model.services.exception.AvailibilityException;
import com.library.model.services.exception.RetreivalException;
import com.library.view.rentitemsjframe.RentItemsJFrameController;

/**
 * ItineraryJFrame.java
 *
 * Build one of the GUIs (View) for the Library application.
 *
 * Note:
 * 
 * This class doesn't implement all the View classes
 * in its entirety. This is just a sample implementation. 
 * 
 * For example, customer's are allowed to enter their
 * search and try to find library items that match the search. Or 
 * they can also do a search all
 *
 *
 * @author  Veeral Patel
 */
public class MainJFrame extends javax.swing.JFrame {
    
    /**
	 * 
	 */
	private static final long serialVersionUID = 3320197207777135961L;
	
	MainJFrameController mjc = new MainJFrameController();
	RentItemsJFrameController rjc = new RentItemsJFrameController();
	/** Creates new form ItineraryJFrame */
    public MainJFrame() {
        initComponents();
        
        this.setSize(350,300);                
        this.setVisible(true); 
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */

 private void initComponents() {

  jMenuBar = new javax.swing.JMenuBar();
  setJMenuBar(jMenuBar);
  jPanel = new javax.swing.JPanel();
  jTextFieldSearchString = new javax.swing.JTextField();
  jLabelSearchItem = new javax.swing.JLabel();
  jButtonSearchString = new javax.swing.JButton();
  jButtonRent = new javax.swing.JButton();
  jButtonSearchAll = new javax.swing.JButton();
  jResultsTextField = new javax.swing.JTextField();

  jMenuBar.setOpaque(false);


  setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
  setTitle("Library Search Application");
  setFont(new java.awt.Font("Comic Sans MS", 0, 10));
  getContentPane().setLayout(null);

  jPanel.setBackground(new java.awt.Color(153, 153, 255));
  jPanel.setFont(new java.awt.Font("Comic Sans MS", 0, 11)); // NOI18N
  jPanel.setLayout(null);

  jLabelSearchItem.setFont(new java.awt.Font("Comic Sans MS", 1, 11));
  jLabelSearchItem.setText("Enter Search:");
  jPanel.add(jLabelSearchItem);
  jLabelSearchItem.setBounds(47, 10, 90, 17);
  
  jResultsTextField.setFont(new java.awt.Font("Comic Sans MS", 1, 11));
  jResultsTextField.setText("Search Results...");
  jPanel.add(jResultsTextField);
  jResultsTextField.setBounds(50,50,260,90);
 

  jTextFieldSearchString.setFont(new java.awt.Font("Comic Sans MS", 0, 11));
  jTextFieldSearchString.setText("");
  jPanel.add(jTextFieldSearchString);
  jTextFieldSearchString.setBounds(130, 10, 90, 22);

  jButtonSearchString.setFont(new java.awt.Font("Comic Sans MS", 1, 11)); // NOI18N
  jButtonSearchString.setText("Search");
  jButtonSearchString.addActionListener(new java.awt.event.ActionListener() {
  
	  	public void actionPerformed(java.awt.event.ActionEvent evt) {
	  		try {
				jButtonSearchStringActionPerformed(evt, jTextFieldSearchString);
			} catch (IOException | AvailibilityException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (ClassNotFoundException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (RetreivalException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
	  	}
  });
  jPanel.add(jButtonSearchString);
  jButtonSearchString.setBounds(20, 200, 150, 25);
  
  jButtonSearchAll.setFont(new java.awt.Font("Comic Sans MS", 1, 11)); // NOI18N
  jButtonSearchAll.setText("Get All");
  jPanel.add(jButtonSearchAll);
  jButtonSearchAll.setBounds(180, 200, 150, 25);
  jButtonSearchAll.addActionListener(new java.awt.event.ActionListener() {
	  
	  	public void actionPerformed(java.awt.event.ActionEvent evt) {
	  		try {
				jButtonSearchAllActionPerformed(evt);
			} catch (ClassNotFoundException | IOException | RetreivalException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (AvailibilityException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
	  	}
});

  
  jButtonRent.setFont(new java.awt.Font("Comic Sans MS", 1, 11));
  jButtonRent.setText("Rent");
  jPanel.add(jButtonRent);
  jButtonRent.setBounds(100,230, 150, 25);
  jButtonRent.addActionListener(new java.awt.event.ActionListener() {
  
	  	public void actionPerformed(java.awt.event.ActionEvent evt) {
				try {
					jButtonRentActionPerformed(evt);
				} catch (ClassNotFoundException | IOException | AvailibilityException | RetreivalException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
	  	}
  });
  
  
  getContentPane().add(jPanel);
  jPanel.setBounds(0, 0, 450, 300);
 }

 private void jButtonSearchAllActionPerformed(java.awt.event.ActionEvent evt) throws ClassNotFoundException, IOException, RetreivalException, AvailibilityException {	
	mjc.getAllItems_actionPerformed(evt, jResultsTextField );
 }
 
 private void jButtonSearchStringActionPerformed(java.awt.event.ActionEvent evt, javax.swing.JTextField jTextFieldSearchString) throws FileNotFoundException, IOException, AvailibilityException, ClassNotFoundException, RetreivalException {
	 mjc.getSearchItems_actionPerformed(evt, jTextFieldSearchString.getText(), jResultsTextField);
 }
 
 private void jButtonRentActionPerformed(java.awt.event.ActionEvent evt) throws FileNotFoundException, ClassNotFoundException, IOException, AvailibilityException, RetreivalException {
	 rjc.getRentalPage_actionPerformed(evt, "null", jResultsTextField);
	}

	
	    /**
	     * Returns jButtonGetAvailableRentals 
	     */    
	    public javax.swing.JButton getSearchStringButton()
	    {
	        return jButtonSearchString;
	    }    

	    /**
	     * Returns jButtonRent 
	     */    
	    public javax.swing.JButton getButtonRent()
	    {
	        return jButtonRent;
	    }    
	    
	        /**
	     * Returns jButtonGetAvailableRentals
	     */
	    public javax.swing.JButton getSearchAllButton()
	    {
	        return jButtonSearchAll;
	    }

	    public javax.swing.JTextField getSearchText(){
	    	
	    	return jTextFieldSearchString;
	    }
	    /**
	     * Returns an Itinerary domain object populated with user entered
	     * data.
	     */


    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                MainJFrame libraryJFrame = new MainJFrame();
                
                
            }
        });
    }
    
 // Variables declaration - do not modify//GEN-BEGIN:variables
 private javax.swing.JButton jButtonSearchString;
 public javax.swing.JButton jButtonRent;
 private javax.swing.JMenuBar jMenuBar;
 private javax.swing.JButton jButtonSearchAll;
 private javax.swing.JLabel jLabelSearchItem;
 public javax.swing.JTextField jResultsTextField;
 private javax.swing.JPanel jPanel;
 private javax.swing.JTextField jTextFieldSearchString;
 // End of variables declaration//GEN-END:variables


}
